Write-Host "Generating sample activity data for demo..."; $userId = "demo-user-123"; $activities = @(); $screens = @("HomeScreen", "ProfileScreen", "SessionsScreen", "AnalyticsScreen", "SettingsScreen"); $actionTypes = @("screen_view", "button_click", "toggle_change", "form_submit"); $startDate = (Get-Date).AddDays(-7); # Generate 50 sample activities; for($i=0; $i -lt 50; $i++) { $randomHours = Get-Random -Minimum 0 -Maximum 168; $timestamp = $startDate.AddHours($randomHours).ToString("o"); $screen = $screens[(Get-Random -Maximum $screens.Length)]; $actionType = $actionTypes[(Get-Random -Maximum $actionTypes.Length)]; $activity = @{ action = "trackActivity"; activity = @{ user_id = $userId; action_type = $actionType; screen = $screen; timestamp = $timestamp; details = @{ demo = $true; random_value = (Get-Random -Maximum 100) }; session_id = "demo-session-" + (Get-Random -Maximum 5); duration_ms = if($actionType -eq "screen_view") { Get-Random -Minimum 5000 -Maximum 60000 } else { $null } } }; $activities += $activity; $body = $activity | ConvertTo-Json -Depth 5; Write-Host "Adding activity: $($actionType) on $($screen)"; Invoke-RestMethod -Uri "https://eskjbzjhlbdrynotqtxz.supabase.co/functions/v1/dupr-api" -Method Post -Headers @{ "Content-Type" = "application/json"; "Authorization" = "Bearer $anonKey" } -Body $body; Start-Sleep -Milliseconds 100; }; Write-Host "Demo data generation complete!"
